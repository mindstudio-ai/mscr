apiVersion: v1
kind: Action
id: create-dialogue
serviceId: elevenlabs
active: true
metadata:
  name: Create Dialogue
  description: Converts multiple text inputs with different voices into a dialogue audio file
  quickHelp: help.md
configuration:
  - title: Dialogue Configuration
    items:
      - label: Dialogue Inputs
        helpText: "Enter dialogue inputs as JSON array. Each object should have 'text' and 'voiceId' properties."
        variable: dialogueInputs
        required: true
        type: text
        textOptions:
          type: multiline
        placeholder: '[{"text": "Hello there!", "voiceId": "voice1"}, {"text": "Hi, how are you?", "voiceId": "voice2"}]'
      - label: Model ID
        required: true
        variable: modelId
        type: select
        defaultValue: eleven_v3
        selectOptions:
          options:
            - label: Eleven V3
              value: eleven_v3
            - label: Eleven Multilingual V2
              value: eleven_multilingual_v2
            - label: Eleven Turbo V2.5
              value: eleven_turbo_v2_5
      - label: Output Format
        required: true
        variable: outputFormat
        type: select
        defaultValue: mp3_44100_128
        selectOptions:
          options:
            - label: MP3 (44.1kHz, 128kbps)
              value: mp3_44100_128
            - label: MP3 (44.1kHz, 192kbps)
              value: mp3_44100_192
            - label: MP3 (44.1kHz, 64kbps)
              value: mp3_44100_64
            - label: PCM (44.1kHz)
              value: pcm_44100
            - label: OPUS (48kHz, 128kbps)
              value: opus_48000_128
  - title: Advanced Settings
    collapsed: true
    items:
      - label: Stability
        helpText: 'Controls emotional range. Lower values (0.1-0.3) introduce broader emotional range, higher values (0.7-0.9) result in more monotonous voice. Leave empty for default.'
        variable: stability
        required: false
        type: text
        placeholder: '0.5'
      - label: Use Speaker Boost
        helpText: 'Boosts similarity to the original speaker. May increase latency.'
        variable: useSpeakerBoost
        required: false
        type: select
        selectOptions:
          options:
            - label: Yes
              value: 'true'
            - label: No
              value: 'false'
  - title: Output
    items:
      - label: Output Variable
        required: true
        helpText: Variable name to store the URL of the generated audio file
        variable: outputVariable
        type: outputVariableName
