apiVersion: v1
kind: Action
id: text-to-dialogue
serviceId: elevenlabs
active: true
metadata:
  name: Text to Dialogue
  description: Converts a series of text inputs with associated voice IDs into a dialogue audio file
  quickHelp: help.md
configuration:
  - title: Dialogue Configuration
    items:
      - label: Dialogue Inputs
        helpText: Enter dialogue inputs as JSON array. Each object must have 'text' and 'voiceId' properties. Example - [{\"text\":\"Hello\",\"voiceId\":\"voice1\"},{\"text\":\"Hi there\",\"voiceId\":\"voice2\"}]
        variable: dialogueInputs
        required: true
        type: text
        textOptions:
          type: multiline
      - label: Model
        required: true
        variable: modelId
        type: select
        defaultValue: eleven_v3
        selectOptions:
          options:
            - label: Eleven Multilingual v2
              value: eleven_multilingual_v2
            - label: Eleven v3
              value: eleven_v3
      - label: Output Format
        required: true
        variable: outputFormat
        type: select
        defaultValue: mp3_44100_128
        selectOptions:
          options:
            - label: MP3 (44.1kHz, 128kbps)
              value: mp3_44100_128
            - label: MP3 (44.1kHz, 64kbps)
              value: mp3_44100_64
            - label: MP3 (44.1kHz, 192kbps)
              value: mp3_44100_192
            - label: PCM (44.1kHz)
              value: pcm_44100
  - title: Advanced Settings
    collapsed: true
    items:
      - label: Voice Stability
        helpText: Controls voice stability and randomness. Lower values provide broader emotional range, higher values result in more monotonous voice. Range - 0-1
        variable: stability
        required: false
        type: text
        placeholder: '0.5'
      - label: Use Speaker Boost
        helpText: Boosts similarity to the original speaker. May increase latency.
        variable: speakerBoost
        required: false
        type: select
        defaultValue: 'true'
        selectOptions:
          options:
            - label: Yes
              value: 'true'
            - label: No
              value: 'false'
  - title: Output
    items:
      - label: Output Variable
        required: true
        helpText: Variable name to store the URL of the generated audio file
        variable: outputVariable
        type: outputVariableName
