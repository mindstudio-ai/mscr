apiVersion: v1
kind: Action
id: create-webhook
serviceId: heyreach
active: true
metadata:
  name: Create Webhook
  description: Creates a new webhook in HeyReach that listens to specified events
  quickHelp: readme.md
configuration:
  - title: Webhook Configuration
    items:
      - label: Webhook Name
        helpText: A name to identify this webhook
        variable: webhookName
        required: true
        type: text
      - label: Webhook URL
        helpText: The URL where HeyReach will send webhook events
        variable: webhookUrl
        required: true
        type: text
        placeholder: https://example.com/webhook
      - label: Event Type
        helpText: The type of event that will trigger this webhook
        variable: eventType
        required: true
        type: select
        selectOptions:
          options:
            - label: Connection Request Sent
              value: CONNECTION_REQUEST_SENT
            - label: Connection Request Accepted
              value: CONNECTION_REQUEST_ACCEPTED
            - label: Message Sent
              value: MESSAGE_SENT
            - label: Message Reply Received
              value: MESSAGE_REPLY_RECEIVED
            - label: InMail Sent
              value: INMAIL_SENT
            - label: InMail Reply Received
              value: INMAIL_REPLY_RECEIVED
            - label: Follow Sent
              value: FOLLOW_SENT
            - label: Liked Post
              value: LIKED_POST
            - label: Viewed Profile
              value: VIEWED_PROFILE
            - label: Campaign Completed
              value: CAMPAIGN_COMPLETED
            - label: Lead Tag Updated
              value: LEAD_TAG_UPDATED
  - title: Campaign Filter
    collapsed: true
    items:
      - label: Campaign IDs
        helpText: Optional. Enter campaign IDs separated by commas to filter events to specific campaigns. Leave empty to listen to all campaigns.
        variable: campaignIds
        required: false
        type: text
        placeholder: campaign1,campaign2,campaign3
  - title: Output
    items:
      - label: Output Variable
        helpText: The variable name to store the webhook creation result
        variable: outputVariable
        required: true
        type: outputVariableName
