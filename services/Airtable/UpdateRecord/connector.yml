apiVersion: v1
kind: Action
id: update-record
serviceId: airtable
active: true
metadata:
  name: Update Record
  description: Updates a single record in an Airtable table
  quickHelp: help.md
configuration:
  - title: Base and Table Information
    items:
      - label: Base ID
        helpText: The ID of your Airtable base. Found in the API documentation or in the URL when viewing your base.
        variable: baseId
        required: true
        type: text
        placeholder: appXXXXXXXXXXXXXX
      - label: Table Name or ID
        helpText: The name or ID of your table. Using the table ID is recommended as it won't change if you rename your table.
        variable: tableIdOrName
        required: true
        type: text
        placeholder: tblXXXXXXXXXXXXXX or Table Name
      - label: Record ID
        helpText: The ID of the record you want to update.
        variable: recordId
        required: true
        type: text
        placeholder: recXXXXXXXXXXXXXX
  - title: Record Fields
    items:
      - label: Fields to Update
        helpText: 'JSON object of fields to update. Format: {"Field Name": "Value"}. For example: {"Name": "New Name", "Status": "Complete"}'
        variable: fields
        required: true
        type: text
        textOptions:
          type: multiline
        placeholder: '{"Name": "New Name", "Status": "Complete"}'
  - title: Options
    collapsed: true
    items:
      - label: Enable Automatic Type Conversion
        helpText: Enable automatic conversion from string values to the appropriate type in Airtable.
        variable: typecast
        required: false
        type: select
        defaultValue: 'false'
        selectOptions:
          options:
            - label: Yes
              value: 'true'
            - label: No
              value: 'false'
      - label: Return Fields By Field ID
        helpText: Return field objects keyed by field ID instead of field name.
        variable: returnFieldsByFieldId
        required: false
        type: select
        defaultValue: 'false'
        selectOptions:
          options:
            - label: Yes
              value: 'true'
            - label: No
              value: 'false'
  - title: Output
    items:
      - label: Output Variable
        helpText: Variable name to store the updated record information.
        variable: outputVariable
        required: true
        type: outputVariableName
